<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ignation Hub | Games</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        nav {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 15px 10%;
    background: #000;
    border-bottom: 2px solid var(--stroke);
}

.logo-area {
    display: flex;
    align-items: center;
    gap: 10px;
    text-decoration: none;
    color: white;
}

.logo-area img {
    width: 28px; /* Slightly smaller for the minimalist look */
    height: 28px;
}

.logo-area b {
    font-size: 16px; /* Small bold white text */
    letter-spacing: 1px;
    text-transform: uppercase;
    font-weight: 700;
}
        :root {
            --bg: #0a0b10; --panel: #111218; --accent: #4d79ff;
            --stroke: #31323a; --text: #ffffff; --sine: cubic-bezier(0.45, 0.05, 0.55, 0.95);
            --success: #22c55e; --error: #ef4444;
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { background: var(--bg); color: var(--text); font-family: 'Roboto', sans-serif; }

        /* Navigation */
        nav {
            display: flex; align-items: center; justify-content: space-between;
            padding: 15px 10%; background: #000; border-bottom: 2px solid var(--stroke);
        }
        .logo-area { display: flex; align-items: center; gap: 12px; text-decoration: none; color: white; }
        .logo-area img { width: 32px; height: 32px; }
        .nav-links a { color: #a1a1a1; text-decoration: none; margin-left: 25px; font-weight: 500; }
        .nav-links a.active { color: var(--accent); }

        /* Grid */
        .container { max-width: 1200px; margin: 50px auto; padding: 0 20px; }
        .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(320px, 1fr)); gap: 25px; }

        .game-card {
            background: var(--panel); border: 1px solid var(--stroke); border-radius: 12px;
            overflow: hidden; transition: transform 0.4s var(--sine), border-color 0.4s;
        }
        .game-card:hover { transform: translateY(-8px); border-color: var(--accent); }
        .game-card img { width: 100%; aspect-ratio: 16/9; object-fit: cover; border-bottom: 1px solid var(--stroke); }
        .card-body { padding: 20px; }
        .card-body h3 { margin-bottom: 10px; }
        /* Update these specific classes in your games/index.html */

.card-body p {
    color: #a1a1a1;
    font-size: 14px;
    margin-bottom: 20px;
    
    /* Fixed height to prevent shifting */
    height: 42px; 
    line-height: 21px;
    
    /* Crop text with an ellipsis (...) after 2 lines */
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;  
    overflow: hidden;
    
    /* Gradient fade-out effect */
    mask-image: linear-gradient(to bottom, black 50%, transparent 100%);
    -webkit-mask-image: linear-gradient(to bottom, black 50%, transparent 100%);
}

.btn-group {
    display: flex;
    gap: 10px;
    margin-top: auto; /* Pushes buttons to the bottom of the card */
    background: var(--panel); /* Ensures buttons stay opaque */
    position: relative;
    z-index: 2;
}

.card-body {
    display: flex;
    flex-direction: column;
    padding: 20px;
}
        .btn {
            flex: 1; padding: 12px; border-radius: 6px; border: none; cursor: pointer;
            font-weight: 500; display: flex; align-items: center; justify-content: center; gap: 8px;
            transition: filter 0.2s; color: white; text-decoration: none; font-size: 13px;
        }
        .btn-copy { background: #2a2b33; border: 1px solid var(--stroke); }
        .btn-play { background: var(--accent); }
        .btn:hover { filter: brightness(1.3); }

        /* Sleek Popup System */
        #notification-container {
            position: fixed; bottom: 30px; right: 30px; z-index: 9999;
            display: flex; flex-direction: column; gap: 10px;
        }
        .popup {
            background: #000; border-radius: 8px; padding: 15px 25px;
            display: flex; align-items: center; gap: 15px; min-width: 300px;
            transform: translateX(120%); transition: transform 0.5s var(--sine);
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
        }
        .popup.show { transform: translateX(0); }
        .popup.success { border: 1px solid var(--success); box-shadow: 0 0 15px rgba(34, 197, 94, 0.2); }
        .popup.error { border: 1px solid var(--error); box-shadow: 0 0 15px rgba(239, 68, 68, 0.2); }
        .popup i { font-size: 20px; }
        .popup.success i { color: var(--success); }
        .popup.error i { color: var(--error); }
    </style>
</head>
<body>
    <nav>
    <a href="../index.html" class="logo-area">
        <img src="https://github.com/BlackfireSoon/BlackfireSoon.github.io/blob/main/assets/ignIcon.png?raw=true" alt="Ignation">
        <b>IGNATION HUB</b>
    </a>
    <div class="nav-links">
        <a href="../uilib/index.html">UI Library</a>
        <a href="#" class="active">Games</a>
        <a href="../community/index.html">Community</a>
    </div>
</nav>

    <div class="container">
        <div class="grid" id="gameGrid"></div>
    </div>

    <div id="notification-container"></div>

    <script>
        const USER = "BlackfireSoon";
        const REPO = "Ignation-Hub";

        function showPopup(message, type) {
            const container = document.getElementById('notification-container');
            const popup = document.createElement('div');
            const icon = type === 'success' ? 'check-circle' : 'alert-circle';
            
            popup.className = `popup ${type}`;
            popup.innerHTML = `<i data-lucide="${icon}"></i> <span>${message}</span>`;
            
            container.appendChild(popup);
            lucide.createIcons();
            
            setTimeout(() => popup.classList.add('show'), 10);
            setTimeout(() => {
                popup.classList.remove('show');
                setTimeout(() => popup.remove(), 500);
            }, 3000);
        }

        async function loadGames() {
            const grid = document.getElementById('gameGrid');
            try {
                const resp = await fetch(`https://api.github.com/repos/${USER}/${REPO}/contents/games`);
                const items = await resp.json();
                for (const item of items) {
                    if (item.type === 'dir') renderGame(item.name);
                }
            } catch (e) {
                showPopup("Failed to reach GitHub API", "error");
            }
        }

        async function renderGame(id) {
            const grid = document.getElementById('gameGrid');
            const infoUrl = `https://raw.githubusercontent.com/${USER}/${REPO}/main/games/${id}/info.json`;
            const scriptUrl = `https://raw.githubusercontent.com/${USER}/${REPO}/main/games/${id}/index.luau`;
            
            let meta = {
                title: `ID: ${id}`,
                description: "Standard Ignation Script",
                thumbnail: `https://assetgame.roblox.com/Game/Tools/ThumbnailAsset.ashx?assetId=${id}&width=768&height=432&format=png`
            };

            try {
                const res = await fetch(infoUrl);
                if(res.ok) Object.assign(meta, await res.json());
            } catch(e) {}

            const card = document.createElement('div');
            card.className = 'game-card';
            card.innerHTML = `
                <img src="${meta.thumbnail}" alt="Game">
                <div class="card-body">
                    <h3>${meta.title}</h3>
                    <p>${meta.description}</p>
                    <div class="btn-group">
                        <button class="btn btn-copy" onclick="copy('${scriptUrl}')">
                            <i data-lucide="copy"></i> Copy Script
                        </button>
                        <a href="https://www.roblox.com/games/${id}" target="_blank" class="btn btn-play">
                            <i data-lucide="external-link"></i> Play
                        </a>
                    </div>
                </div>
            `;
            grid.appendChild(card);
            lucide.createIcons();
        }

        async function copy(url) {
            try {
                const txt = await (await fetch(url)).text();
                await navigator.clipboard.writeText('loadstring(game:HttpGet("https://raw.githubusercontent.com/BlackfireSoon/Ignation-Hub/refs/heads/main/main.luau"))()';
                showPopup("Script copied to clipboard!", "success");
            } catch(e) {
                showPopup("Failed to copy script.", "error");
            }
        }
        loadGames();
    </script>
</body>
</html>
